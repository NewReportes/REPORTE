<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    h1 {
      text-align: center;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
    }
  </style>
	<script>
// Función para obtener parámetros de la URl
            function obtenerParametro(nombre) {
                nombre = nombre.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
                var regex = new RegExp('[\\?&]' + nombre + '=([^&#]*)');
                var resultados = regex.exec(location.search);
                return resultados === null ? '' : decodeURIComponent(resultados[1].replace(/\+/g, ''));
            }
        
// Obtener los parámetros de la URL
            var fecha = obtenerParametro('fecha');
	    var cantidad = obtenerParametro('cantidad');
	    var responsable = obtenerParametro('responsable');
            var resumen1 = obtenerParametro('resumen1');
	    var resumen2 = obtenerParametro('resumen2');
	
// Convertir la cadena resumen en un array separado por saltos de línea
	    var lineasResumen1 = resumen1.split("\n");
	    var lineasResumen2 = resumen2.split("\n");

    const contenedor = document.getElementById("resumen1");
    contenedor.innerHTML = ""; // Limpiar el contenedor antes de agregar contenido

    lineasResumen1.forEach(function(linea1) {
      const p = document.createElement("p");
      p.textContent = linea1; // Usa textContent para escapar automáticamente
      contenedor.appendChild(p);
    });


	
		
// Escribir la información en el documento HTML
            window.onload = function() {
                  document.getElementById('fecha').innerHTML = fecha;
		document.getElementById('cantidad').innerHTML = cantidad;
		document.getElementById('responsable').innerHTML = responsable;

// Mostrar cada línea del resumen en un párrafo separado
		   //lineasResumen1.forEach(function(linea1) {
                  // var parrafo = document.createElement('tr');
		  // parrafo.classList.add('fs-5', 'text-uppercase', 'text-start');
                   //parrafo.innerHTML = linea1;
                   //document.getElementById('resumen1').appendChild(parrafo);});

		    lineasResumen2.forEach(function(linea2) {
                    var parrafo = document.createElement('tr');
		    parrafo.classList.add('fs-5', 'text-uppercase', 'text-start');
                    parrafo.innerHTML = linea2;
		    document.getElementById('resumen2').appendChild(parrafo);});

};

        </script>
    </head>
<body>
<title>Resumen detalle encuesta</title>
  
       <div class="centrado"><img src="./logo.jpg" alt="Logotipo"></div>
	    
	<table>
	  <tr>	
                  <th>FECHA:  </th><td id="fecha"></td><br>
                  <th>TOTAL ACUERDO COMERCIAL:  </th><td id="cantidad"></td><br>
		  <th>RESPONSABLE:  </th><td id="responsable"></td><br>
	  </tr>
    </table>
    <tr>	
	<p style="font-size:18px; text-align: left;">RESUMEN GENERAL.</p>
    </tr>

 <table>
    <thead>
      <tr>
	                <th>FECHA LEVANT</th>
                        <th>CATEGORÍAS</th>
                        <th>DIF. +/- PLG.</th>
                        <th>% COLGATE</th>
      </tr>
    </thead>

    <tbody>
   	    <tr>
 			<td id="resumen1"></td>
		        <td id="resumen2"></td>
	    </tr>
    </tbody>

  </table><br>
    
            <p class="centrado">¡¡GRACIAS POR SU VISITA!!
    </body>
<button onclick="window.print();" class="noPrint">IMPRIMIR TICKET DE VENTA</button>

</html>
