<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    h1 {
      text-align: center;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
    }
  </style>
	<script>
// Función para obtener parámetros de la URl
            function obtenerParametro(nombre) {
                nombre = nombre.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
                var regex = new RegExp('[\\?&]' + nombre + '=([^&#]*)');
                var resultados = regex.exec(location.search);
                return resultados === null ? '' : decodeURIComponent(resultados[1].replace(/\+/g, ''));
            }
        
// Obtener los parámetros de la URL
            var fecha = obtenerParametro('fecha');
	    var cantidad = obtenerParametro('cantidad');
	    var responsable = obtenerParametro('responsable');
            var resumen1 = obtenerParametro('resumen1');
	    var resumen2 = obtenerParametro('resumen2');
	
// Convertir la cadena resumen en un array separado por saltos de línea
	    var lineasResumen1 = resumen1.split('\n');
	    var lineasResumen2 = resumen2.split('\n');
	
// Escribir la información en el documento HTML
            window.onload = function() {
                  document.getElementById('fecha').innerHTML = fecha;
		document.getElementById('cantidad').innerHTML = cantidad;
		document.getElementById('responsable').innerHTML = responsable;

// Mostrar cada línea del resumen en un párrafo separado

// Datos de ejemplo (reemplazar con datos reales)
    const datosVenta = {
      detalle: [
        { idVenta: 'resumen1', producto: 'Camiseta', cantidad: 2, precioUnitario: 20, fechaVenta: '2023-10-26' },
      ]
    };

    // Llenar el detalle de venta
    const detalleVentaTabla = document.getElementById('detalleVenta');

    datosVenta.detalle.forEach(venta => {

      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${venta.idVenta}</td>
        <td>${venta.producto}</td>
        <td>${venta.cantidad}</td>
        <td>${venta.precioUnitario}</td>
        <td>${venta.fechaVenta}</td>
      `;
      detalleVentaTabla.appendChild(row);});
};

        </script>
    </head>
<body>
<title>Resumen detalle encuesta</title>
  
       <div class="centrado"><img src="./logo.jpg" alt="Logotipo"></div>
	    
	<table>
	  <tr>	
              <td class="descripcion" style="text-align: left;">FECHA:  </td><td class="descripcion" style="text-align: left;" id="fecha"></td>
          </tr>
	  <tr>  
                  <td class="descripcion" style="text-align: right;">TOTAL ACUERDO COMERCIAL:  </td><td class="descripcion" style="text-align: right;" id="cantidad"></td>	  
	  </tr>
    </table>
    <tr>
	<p style="text-align: left; line-height: 0px;">RESPONSABLE:  <span style="text-align: left; line-height: 0px;" id="responsable"></span></p>	
	<p style="font-size:16px; text-align: left;">RESUMEN GENERAL.</p>
    </tr>

 <table>
    <thead>
      <tr>
	                <th>FECHA LEVANT</th>
                        <th>CATEGORÍAS</th>
                        <th>DIF. +/- PLG.</th>
                        <th>% COLGATE</th>
	      		<th>FECHA</th>
      </tr>
    </thead>
    <tbody id="detalleVenta">
      <!-- Aquí se insertarán las filas del detalle de venta -->
    </tbody>
  </table><br>
    
            <p class="centrado">¡¡GRACIAS POR SU VISITA!!
                <br>App. Ticket</p>
    </body>
<button onclick="window.print();" class="noPrint">IMPRIMIR TICKET DE VENTA</button>

</html>
